<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">
<meta name="viewport" content="width-device-width, inital-scale=1">

<head>
    <title>Book</title>
    <link rel="stylesheet" type="text/css" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/script.js"></script>

</head>

<body>
    <div>
        <header class="navbar navbar-static-top" id="navbar"></header>
        <div class="d-flex">
            <div class="container" id="addContainer"></div>
            <div class="container" id="addPreview"></div>
        </div>
        <div id="status-box"></div>
        <div class="ccenter container">
            <label for="offset">Next Offset: </label>
            <input type="number" name="offset" id="offset">
            <button id="search">Search</button>
        </div>
        <table id="list">
        </table>
    </div>
    <script>
        generateNavBar()
        generateAddForm(itemName = 'book',
            fields = [
                { name: 'title', type: 'text', label: 'Title' },
                { name: 'author', type: 'text', label: 'Author' },
                { name: 'cover', type: 'file', label: 'Cover' },
                { name: 'count', type: 'number', label: 'Quantity', default: 1 },
                { name: 'type', type: 'select', label: 'Type', selectOptions: ['fiction', 'non-fiction', 'spiritual'] },
            ],
            submitEndpoint = '/librarian/book',
        )
        generateListForm(
            fields = ['id', 'title', 'author', 'type', 'count', 'cover'],
            submitEndpoint = '/internal/books?',
        )
        document.getElementById("search").addEventListener('click', e => {
            e.preventDefault()
            generateListForm(
                fields = ['id', 'title', 'author', 'type', 'count', 'cover'],
                submitEndpoint = '/internal/books?',
            )
        })
    </script>
</body>

</html>